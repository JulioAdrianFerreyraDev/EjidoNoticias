{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} {% endblock title %}</title>
    <link rel="shortcut icon" href="{% static 'assets/images/icon/fav.svg' %}" type="image/x-icon">

    <link rel="stylesheet preload" href="{% static 'assets/css/plugins/fontawesome-5.css' %}" as="style">
    <link rel="stylesheet preload" href="{% static 'assets/css/vendor/bootstrap.min.css' %}" as="style">
    <link rel="stylesheet preload" href="{% static 'assets/css/vendor/swiper.css' %}" as="style">
    <link rel="stylesheet preload" href="{% static 'assets/css/vendor/metismenu.css' %}" as="style">
    <link rel="stylesheet preload" href="{% static 'assets/css/vendor/fonts.css' %}" as="style">
    <link rel="stylesheet preload" href="{% static 'assets/css/vendor/magnific-popup.css' %}" as="style">
    <link rel="stylesheet preload" href="{% static 'assets/css/style.css' %}" as="style">
</head>

<body class="home-three">



    {% include "components/shared/sidebar.html" %}


    {% include "components/shared/suscription-popup.html" %}

    {% block content %}
    {% endblock content %}

    {% include 'components/shared/footer.html'%}

    {% include 'components/shared/scroll-button.html' %}


    <div id="anywhere-home"></div>

    <script src="{% static 'assets/js/vendor/jquery.min.js' %}" defer></script>
    <script src="{% static 'assets/js/plugins/audio.js' %}" defer></script>
    <script src="{% static 'assets/js/vendor/bootstrap.min.js' %}" defer></script>
    <script src="{% static 'assets/js/vendor/swiper.js' %}" defer></script>
    <script src="{% static 'assets/js/vendor/metisMenu.min.js' %}" defer></script>
    <script src="{% static 'assets/js/plugins/audio.js' %}" defer></script>
    <script src="{% static 'assets/js/plugins/magnific-popup.js' %}" defer></script>
    <script src="{% static 'assets/js/plugins/contact-form.js' %}" defer></script>
    <script src="{% static 'assets/js/plugins/resize-sensor.min.js' %}" defer></script>
    <script src="{% static 'assets/js/plugins/theia-sticky-sidebar.min.js' %}" defer></script>

    <script src="{% static 'assets/js/main.js' %}" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {

            // 1. Selecciona los elementos por su ID y clase
            const searchInput = document.getElementById('searchInput1');
            const searchButton = document.querySelector('.search-close-icon');

            // 2. Función reutilizable para redirigir
            function redirectToSearch() {
                // Obtiene el valor del input y quita espacios en blanco
                const query = searchInput.value.trim();

                // Solo redirige si el usuario escribió algo
                if (query) {
                    // Construye la URL. 
                    // ¡CAMBIA '/blogs' por la URL de tu página de blogs!
                    // 'q' es el nombre estándar para un query, pero puedes usar 'search', etc.
                    const url = `/noticias?q=${encodeURIComponent(query)}`;

                    // Redirige al navegador a la nueva URL
                    window.location.href = url;
                }
            }

            // 3. Añade el "listener" para el clic en el botón/icono
            if (searchButton) {
                searchButton.addEventListener('click', redirectToSearch);
            }

            // 4. Añade el "listener" para la tecla "Enter" en el input
            if (searchInput) {
                searchInput.addEventListener('keydown', function (event) {

                    // Comprueba si la tecla presionada fue "Enter"
                    if (event.key === 'Enter') {
                        // Previene cualquier acción por defecto (como enviar un formulario)
                        event.preventDefault();
                        redirectToSearch();
                    }
                });
            }
        });
    </script>

</body>

</html>